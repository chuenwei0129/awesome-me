---
nav:
  second:
    title: React
    order: 1
title: è¿™æ˜¯ä»€ä¹ˆï¼Ÿ
group:
  title: ä»‹ç»
  order: -999
---

> æˆ‘ä¸€ç›´è§‰å¾—æŒæ¡ä¸€ä¸ªä¸œè¥¿æœ€æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯å…ˆ break itï¼ŒçŸ¥é“å®ƒä¸ºä»€ä¹ˆåï¼Œå°±èƒ½äº†è§£å½“å‰çš„è®¾è®¡åˆ°åº•æ˜¯åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚

# React æ–‡æ¡£æ‘†çƒ‚ä¸æ˜¯ä¸€å¤©ä¸¤å¤©äº†

> åˆ«é—®ï¼Œé—®å°±æ˜¯ç¨‹åºå‘˜æœ€æ“…é•¿å†™æ–‡æ¡£

## React Hooks

- [React useEvent RFC](https://github.com/reactjs/rfcs/blob/useevent/text/0000-useevent.md)
- [ç²¾è¯» useEffect å®Œå…¨æŒ‡å—](https://zhuanlan.zhihu.com/p/60277120)
- [React æ–°æ–‡æ¡£ï¼šä¸è¦æ»¥ç”¨ Ref å“¦ï½](https://zhuanlan.zhihu.com/p/529491295)
- [React Hooks ä½¿ç”¨è¯¯åŒºï¼Œé©³å®˜æ–¹æ–‡æ¡£](https://zhuanlan.zhihu.com/p/450513902)
- [å¦‚ä½•çœ‹å¾…ã€ŠReact Hooks ä½¿ç”¨è¯¯åŒºï¼Œé©³å®˜æ–¹æ–‡æ¡£ã€‹ï¼Ÿ](https://www.zhihu.com/question/508780830/answer/2486581940)
- [React 18 å…¨è§ˆ](https://zhuanlan.zhihu.com/p/500072933)
- [åœ¨ React18 ä¸­è¯·æ±‚æ•°æ®çš„æ­£ç¡®å§¿åŠ¿](https://zhuanlan.zhihu.com/p/536624672)
- [React 18 å¯¹ Hooks çš„å½±å“](https://zhuanlan.zhihu.com/p/490929650)
- [React æ¨èå‡½æ•°ç»„ä»¶æ˜¯çº¯å‡½æ•°ï¼Œä½†æ˜¯ç»„ä»¶æœ‰çŠ¶æ€å°±ä¸å¯èƒ½æ˜¯çº¯å‡½æ•°ï¼Œæ€ä¹ˆç†è§£æœ‰çŠ¶æ€çš„çº¯å‡½æ•°ï¼Ÿ](https://www.zhihu.com/question/537538929)

## React + Typescript

- [ğŸ”–TypeScript å¤‡å¿˜å½•ï¼šå¦‚ä½•åœ¨ React ä¸­å®Œç¾è¿ç”¨ï¼Ÿ](https://juejin.cn/post/6910863689260204039)
- [Upgrading to React 18 with TypeScript](https://blog.logrocket.com/upgrading-react-18-typescript/)
- [React + TypeScript å¸¸ç”¨ç±»å‹æ±‡æ€»](https://mp.weixin.qq.com/s?__biz=Mzg3ODAyNDI0OQ==&mid=2247489283&idx=1&sn=2b49af5b171398db1821237ba1551ad1&chksm=cf1b5455f86cdd433210a386c1ae528e8a580fb4ce4931f83baa900205bc00caa63dfa369950&scene=178&cur_album_id=1791658055365935110#rd)

## React ç”Ÿæ€

- [React Native](https://reactnative.dev/)
- [React Hook Form](https://react-hook-form.com/)
- [React Query](https://tanstack.com/query/v4/docs/overview)
- [React Table](https://tanstack.com/table/v8/docs/guide/introduction)

## æ•™ç¨‹

- [å¯è®¿é—®çš„ React è¡¨å•](https://www.carlrippon.com/accessible-react-forms/)

<!-- é¡ºåºæ˜¯çˆ¶ç»„ä»¶render>å­ç»„ä»¶render> å­ç»„ä»¶useLayoutEffect>çˆ¶ç»„ä»¶useLayoutEffect>å­ç»„ä»¶useEffect>çˆ¶ç»„ä»¶useEffect

å‡å¦‚çˆ¶ç»„ä»¶ æœ‰ logCount å‡½æ•°ï¼Œä½¿ç”¨ useLayoutEffect ç‰ˆæœ¬çš„ useEvent åŒ…è£¹ï¼Œä¼ ç»™å­ç»„ä»¶ä½œä¸º props ï¼Œåˆ™ å­ç»„ä»¶render é˜¶æ®µ å’Œ å­ç»„ä»¶useLayoutEffect é˜¶æ®µå› ä¸ºæ‰§è¡Œåœ¨çˆ¶ç»„ä»¶ useLayoutEffect ä¹‹å‰ï¼Œ è¿™ä¸¤ä¸ªé˜¶æ®µå­ç»„ä»¶ä»propsé‡Œè¯»å–çš„ logCount å‡½æ•°ä¸ç¬¦åˆé¢„æœŸï¼Œæ˜¯æ—§çš„ã€‚ä½†å› ä¸ºæ˜¯å¼•ç”¨ï¼Œæ‰€ä»¥å½“çˆ¶ç»„ä»¶ useLayoutEffect æ‰§è¡Œå®Œåï¼Œå­ç»„ä»¶ propsé‡Œçš„ logCount å°±ç¬¦åˆé¢„æœŸäº†ã€‚è¿™ä¸€ç‚¹æˆ‘è®¤ä¸ºä¸å¸¸è§ï¼Œä½†çš„ç¡®ä¼šæœ‰ï¼Œåªæ˜¯ç­”ä¸»è¡¨è¾¾çš„æ¯”è¾ƒéšæ™¦ï¼Œéš¾ä»¥getåˆ°ã€‚

è€Œç­”ä¸»åæ–‡çš„æ„æ€æ˜¯ï¼Œéœ€è¦æœ‰æ–°hooksæ‰§è¡Œæ—¶æœºï¼Œä¿æŒåœ¨renderä¹‹åï¼Œä¸”å…ˆçˆ¶ç»„ä»¶åå­ç»„ä»¶æ‰§è¡Œã€‚æ’å…¥äºåŸé¡ºåºä¸ºï¼šçˆ¶ç»„ä»¶render>çˆ¶ç»„ä»¶æ–°hooks>å­ç»„ä»¶render>å­ç»„ä»¶æ–°hooks> å­ç»„ä»¶useLayoutEffect>çˆ¶ç»„ä»¶useLayoutEffect ã€‚ã€‚ã€‚ é¡ºåºæ‰§è¡Œ -->


<!-- <code src="../../../playground/react/gif.jsx"></code> -->

```jsx
/**
 * iframe: true
 * background: '#f6f7f9'
 */

import React, { useState, useEffect } from "react";

export default function App() {
  const [state] = useState(0);
  console.log(1);

  // æ¨¡æ‹Ÿä¸€ä¸ªè€—æ—¶æ“ä½œï¼Œå¤§äº 4 æ¯«ç§’å°±æŠŠæ§åˆ¶æƒæ•™å›ç»™æµè§ˆå™¨
  console.time("time");
  const start = Date.now();
  while (Date.now() - start < 50) {
    window.timestamp = Date.now();
  }
  console.timeEnd("time");
  useEffect(() => {
    console.log(2);
  }, [state]);
  Promise.resolve().then(() => {
    console.log(3);
  });
  setTimeout(() => {
    console.log(4);
  }, 0);
  return null;
}
```

```jsx | pure
import { useState, useEffect, useLayoutEffect } from "react";

function App() {
  const [state, setState] = useState(0);

  console.log(1);

  const start = Date.now();
  while (Date.now() - start < 10) {
    window.timestamp = Date.now();
  }

  useEffect(() => {
    console.log(2);
  }, [state]);

  Promise.resolve().then(() => {
    console.log(3);
  });

  setTimeout(() => {
    console.log(4);
  }, 0);

  useLayoutEffect(() => {
    console.log(5);
    setState((state) => state + 1);
  }, []);

  return null;
}

export default () => <App />;
```

å—æ§ä¸éå—æ§
click the button 3 times



```jsx | pure
import { useState, useEffect } from "react";

function A() {
  console.log("A");
  return <B />;
}

function B() {
  console.log("B");
  return <C />;
}

function C() {
  console.log("C");
  return null;
}

function D() {
  console.log("D");
  return null;
}

function App() {
  const [state, setState] = useState(0);
  useEffect(() => {
    setState((state) => state + 1);
  }, []);
  console.log("App");
  return (
    <div>
      <A state={state} />
      <D />
    </div>
  );
}

export default () => <App />;
```

```jsx | pure
import  { useState, useEffect } from "react";
function App() {
  const [count, setCount] = useState(1);
  console.log(1);
  useEffect(() => {
    console.log(2);
    return () => {
      console.log(3);
    };
  }, [count]);
  useEffect(() => {
    console.log(4);
    setCount((count) => count + 1);
  }, []);
  return <Child count={count} />;
}
function Child({ count }) {
  useEffect(() => {
    console.log(5);
    return () => {
      console.log(6);
    };
  }, [count]);
  return null;
}

export default () => <App />;
```

```jsx|pure
function App() {
  const [state, setState] = useState(0);
  console.log(1);
  useEffect(() => {
    console.log(2);
  }, [state]);
  Promise.resolve().then(() => {
    console.log(3);
  });
  setTimeout(() => {
    console.log(4);
  }, 0);
  const onClick = () => {
    console.log(5);
    setState((num) => num + 1);
    console.log(6);
  };
  return (
    <div>
      <button onClick={onClick} data-testid="action">
        click me
      </button>
    </div>
  );
}
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App />);
setTimeout(() => {
  const action = document.querySelector('[data-testid="action"]');
  fireEvent.click(action);
Click the button after 100ms
}, 100)
```

```jsx|pure
function App() {
  console.log(1);
  const [state, setState] = useState(0);
  useEffect(() => {
    setState((state) => state + 1);
  }, []);
  useEffect(() => {
    console.log(2);
    return () => {
      console.log(3);
    };
  }, [state]);
  useEffect(() => {
    console.log(4);
    return () => {
      console.log(5);
    };
  }, [state]);
  useLayoutEffect(() => {
    console.log(6);
    return () => {
      console.log(7);
    };
  }, [state]);
  useInsertionEffect(() => {
    console.log(8);
    return () => {
      console.log(9);
    };
  }, [state]);
  console.log(10);
  return null;
}
const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<App />);
```

```jsx|pure
import React, { useState } from "react";
import ReactDOM from "react-dom";
import { screen, fireEvent } from "@testing-library/dom";
function A() {
  console.log(2);
  return null;
}
function App() {
  const [_state, setState] = useState(false);
  console.log(1);
  return (
    <>
      <button
        onClick={() => {
          console.log("click");
          setState(true);
        }}
        data-testid="action"
      >
        click me
      </button>
      <A />
    </>
  );
}
ReactDOM.render(<App />, document.getElementById("root"));
const action = document.querySelector('[data-testid="action"]');
fireEvent.click(action);
fireEvent.click(action);
fireEvent.click(action);
```
