<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      :root {
        --c-bg: #f8fafc; /* Outer Background */
        --c-canvas: #ffffff; /* Diagram Background */
        --c-border: #cbd5e1; /* Slate-300 */
        --c-text-main: #0f172a; /* Slate-900 */
        --c-text-sub: #64748b; /* Slate-500 */
        --font-ui: 'Inter', Helvetica, Arial, sans-serif;
        --font-mono: 'JetBrains Mono', 'Consolas', monospace;
      }

      * {
        box-sizing: border-box;
      }

      body {
        background-color: var(--c-bg);
        font-family: var(--font-ui);
        color: var(--c-text-main);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
      }

      /* 5. Layout Structure: Diagram Canvas */
      .diagram-canvas {
        background-color: var(--c-canvas);
        border: 1px solid var(--c-border);
        width: 100%;
        max-width: 800px;
        padding: 0;
        position: relative;
      }

      /* 5. Header */
      .diagram-header {
        padding: 16px 24px;
        border-bottom: 1px solid var(--c-border);
        display: flex;
        justify-content: space-between;
        align-items: baseline;
      }

      .diagram-title {
        font-size: 16px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin: 0;
      }

      .diagram-meta {
        font-family: var(--font-mono);
        font-size: 12px;
        color: var(--c-text-sub);
      }

      /* Canvas Content */
      .diagram-body {
        padding: 40px;
        display: flex;
        flex-direction: column;
        gap: 40px;
        align-items: center;
      }

      /* Component Box */
      .component {
        border: 1px solid var(--c-border); /* 2. Flat & Outlined */
        background: #fff;
        padding: 12px 16px;
        width: 200px;
        position: relative;
        display: flex;
        flex-direction: column;
        gap: 8px;
        transition: none; /* 1. No Decorations */
      }

      /* Semantic Color Accent (Error/Warning usually, here just Black for strictness) */
      .component.active {
        border-color: var(--c-text-main);
      }

      .comp-header {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
      }

      .comp-icon {
        width: 16px;
        height: 16px;
        stroke: var(--c-text-main);
        stroke-width: 2;
        fill: none;
      }

      .comp-details {
        font-family: var(--font-mono);
        font-size: 11px;
        color: var(--c-text-sub);
        border-top: 1px solid var(--c-border);
        padding-top: 8px;
        display: flex;
        justify-content: space-between;
      }

      /* 6. Connectors */
      .connector-vertical {
        width: 1px;
        height: 30px;
        background-color: var(--c-border);
      }

      .connector-group {
        display: flex;
        gap: 20px;
        position: relative;
      }

      /* Horizontal branching line */
      .branch-line {
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - 200px); /* Adjust based on gap */
        height: 15px;
        border-top: 1px solid var(--c-border);
        border-left: 1px solid var(--c-border);
        border-right: 1px solid var(--c-border);
      }

      /* Badges */
      .badge {
        font-family: var(--font-mono);
        font-size: 10px;
        padding: 2px 6px;
        border: 1px solid var(--c-border);
        background: #f1f5f9;
        color: var(--c-text-main);
        text-transform: uppercase;
      }

      /* Utility */
      .row {
        display: flex;
        gap: 40px;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div class="diagram-canvas">
      <!-- Header -->
      <div class="diagram-header">
        <h1 class="diagram-title">System Architecture v1.0</h1>
        <span class="diagram-meta">ID: SYS-2024-X1 // STATUS: STABLE</span>
      </div>

      <!-- Body -->
      <div class="diagram-body">
        <!-- Node 1: Load Balancer -->
        <div class="component active">
          <div class="comp-header">
            <svg class="comp-icon" viewBox="0 0 24 24">
              <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="square" />
            </svg>
            <span>LOAD_BALANCER</span>
          </div>
          <div class="comp-details">
            <span>nginx</span>
            <span class="badge">HTTPS</span>
          </div>
        </div>

        <!-- Connector -->
        <div class="connector-vertical"></div>

        <!-- Node 2: API Gateway -->
        <div class="component">
          <div class="comp-header">
            <svg class="comp-icon" viewBox="0 0 24 24">
              <rect x="2" y="2" width="20" height="20" rx="0" />
            </svg>
            <span>API_GATEWAY</span>
          </div>
          <div class="comp-details">
            <span>port: 8080</span>
            <span class="badge">REST</span>
          </div>
        </div>

        <!-- Branching Connector -->
        <div style="position: relative; width: 100%; height: 30px">
          <!-- Custom branching lines for pure CSS structure -->
          <div
            style="
              position: absolute;
              top: 0;
              left: 50%;
              width: 1px;
              height: 15px;
              background: #cbd5e1;
            "
          ></div>
          <div
            style="
              position: absolute;
              top: 15px;
              left: 25%;
              width: 50%;
              height: 1px;
              background: #cbd5e1;
            "
          ></div>
          <div
            style="
              position: absolute;
              top: 15px;
              left: 25%;
              width: 1px;
              height: 15px;
              background: #cbd5e1;
            "
          ></div>
          <div
            style="
              position: absolute;
              top: 15px;
              right: 25%;
              width: 1px;
              height: 15px;
              background: #cbd5e1;
            "
          ></div>
        </div>

        <!-- Row: Microservices -->
        <div class="row" style="width: 100%; justify-content: space-around">
          <!-- Service A -->
          <div class="component">
            <div class="comp-header">
              <svg class="comp-icon" viewBox="0 0 24 24">
                <path
                  d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
                />
              </svg>
              <span>AUTH_SERVICE</span>
            </div>
            <div class="comp-details">
              <span>ver: 2.1.0</span>
              <span>RW</span>
            </div>
          </div>

          <!-- Service B -->
          <div class="component">
            <div class="comp-header">
              <svg class="comp-icon" viewBox="0 0 24 24">
                <path
                  d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
                />
              </svg>
              <span>DATA_PROCESSOR</span>
            </div>
            <div class="comp-details">
              <span>ver: 1.4.2</span>
              <span>RO</span>
            </div>
          </div>
        </div>

        <!-- Connectors to DB -->
        <div class="row" style="width: 100%; justify-content: space-around">
          <div class="connector-vertical"></div>
          <div class="connector-vertical"></div>
        </div>

        <!-- Row: Databases -->
        <div class="row" style="width: 100%; justify-content: space-around">
          <!-- DB 1 -->
          <div class="component">
            <div class="comp-header">
              <svg class="comp-icon" viewBox="0 0 24 24">
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" />
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" />
              </svg>
              <span>USER_DB</span>
            </div>
            <div class="comp-details">
              <span>PostgreSQL</span>
              <span class="badge">PRI</span>
            </div>
          </div>

          <!-- DB 2 -->
          <div class="component">
            <div class="comp-header">
              <svg class="comp-icon" viewBox="0 0 24 24">
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" />
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" />
              </svg>
              <span>CACHE_REDIS</span>
            </div>
            <div class="comp-details">
              <span>Redis</span>
              <span class="badge">SEC</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
