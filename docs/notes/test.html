<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <style>
      :root {
        --c-bg: #f8fafc;
        --c-canvas: #ffffff;
        --c-border: #cbd5e1;
        --c-text-main: #0f172a;
        --c-text-sub: #64748b;
        --c-accent: #0f172a;
        --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, Helvetica, Arial, sans-serif;
        --font-mono: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
      }

      body {
        background-color: var(--c-bg);
        font-family: var(--font-ui);
        padding: 2rem;
        display: flex;
        justify-content: center;
        color: var(--c-text-main);
      }

      .diagram-canvas {
        background-color: var(--c-canvas);
        border: 1px solid var(--c-border);
        width: 100%;
        max-width: 900px;
        padding: 0;
        box-shadow: none;
        position: relative;
      }

      /* Header */
      .blueprint-header {
        padding: 1.5rem;
        border-bottom: 2px solid var(--c-text-main);
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
      }

      .title-block h1 {
        font-size: 1.25rem;
        font-weight: 700;
        text-transform: uppercase;
        margin: 0;
        letter-spacing: -0.02em;
      }

      .title-block span {
        display: block;
        font-size: 0.75rem;
        color: var(--c-text-sub);
        font-family: var(--font-mono);
        margin-top: 0.25rem;
        text-transform: uppercase;
      }

      .meta-block {
        text-align: right;
        font-family: var(--font-mono);
        font-size: 0.75rem;
        color: var(--c-text-sub);
      }

      /* Main Layout */
      .blueprint-body {
        padding: 2rem;
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      /* Sections */
      .section {
        position: relative;
      }

      .section-label {
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        color: var(--c-text-sub);
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .section-label::after {
        content: '';
        flex: 1;
        height: 1px;
        background: var(--c-border);
      }

      /* Containers */
      .box-container {
        border: 1px solid var(--c-border);
        padding: 1rem;
        position: relative;
        background: #fff;
      }

      .box-container.dashed {
        border-style: dashed;
      }

      .flex-row {
        display: flex;
        gap: 1.5rem;
      }

      .flex-col {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .w-half {
        flex: 1;
      }

      /* Code Blocks */
      .code-block {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        background: var(--c-bg);
        border: 1px solid var(--c-border);
        padding: 0.75rem;
        margin-top: 0.5rem;
        line-height: 1.4;
      }

      .keyword {
        font-weight: 700;
        color: var(--c-text-main);
      }
      .string {
        color: var(--c-text-sub);
      }
      .var {
        color: #0f172a;
        font-weight: 600;
      }

      /* UI Elements */
      .ui-button {
        border: 1px solid var(--c-text-main);
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
        font-weight: 600;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 100px;
        background: transparent;
        cursor: default;
      }

      .ui-button.primary {
        background: var(--c-text-main);
        color: white;
      }

      .ui-button.custom {
        border-color: var(--c-text-main);
        /* Pattern to simulate yellow/custom without color */
        background-image: linear-gradient(
            45deg,
            #000 25%,
            transparent 25%,
            transparent 75%,
            #000 75%,
            #000
          ),
          linear-gradient(
            45deg,
            #000 25%,
            transparent 25%,
            transparent 75%,
            #000 75%,
            #000
          );
        background-size: 4px 4px;
        background-position: 0 0, 2px 2px;
        opacity: 0.2;
      }

      /* Connectors */
      .connector-v {
        width: 1px;
        height: 1.5rem;
        background: var(--c-border);
        margin: 0 auto;
        position: relative;
      }

      .connector-v::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: -2px;
        width: 5px;
        height: 5px;
        border-left: 1px solid var(--c-border);
        border-bottom: 1px solid var(--c-border);
        transform: rotate(-45deg);
      }

      .flow-arrow {
        position: absolute;
        right: -1rem;
        top: 50%;
        width: 1rem;
        height: 1px;
        background: var(--c-border);
      }

      /* Legend / Notes */
      .badge {
        display: inline-block;
        padding: 2px 6px;
        border: 1px solid var(--c-text-main);
        font-size: 0.6rem;
        font-weight: 700;
        text-transform: uppercase;
        margin-bottom: 4px;
      }

      .annotation {
        font-family: var(--font-mono);
        font-size: 0.65rem;
        color: var(--c-text-sub);
        margin-top: 0.5rem;
        border-left: 2px solid var(--c-border);
        padding-left: 0.5rem;
      }

      /* Utility */
      .mt-4 {
        margin-top: 1rem;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
      }
    </style>
  </head>
  <body>
    <div class="diagram-canvas">
      <!-- Header -->
      <header class="blueprint-header">
        <div class="title-block">
          <h1>Theming Architecture</h1>
          <span>TailwindCSS 3.x + CSS Variables</span>
        </div>
        <div class="meta-block">
          <div>REF: COMP-THEME-V1</div>
          <div>DATE: 2025-12-25</div>
        </div>
      </header>

      <div class="blueprint-body">
        <!-- 1. Definition Layer -->
        <section class="section">
          <div class="section-label">
            01. Abstraction Layer (tailwind.config.ts)
          </div>
          <div class="box-container">
            <span class="badge">Config</span>
            <div class="code-block">
              theme: {<br />
              &nbsp;&nbsp;extend: {<br />
              &nbsp;&nbsp;&nbsp;&nbsp;colors: {<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primary:
              <span class="string">'var(--primary)'</span>,<br />
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bg:
              <span class="string">'var(--bg-color)'</span><br />
              &nbsp;&nbsp;&nbsp;&nbsp;}<br />
              &nbsp;&nbsp;}<br />
              }
            </div>
            <div class="annotation">
              Maps Tailwind utility classes (e.g., bg-primary) to dynamic CSS
              variables instead of static hex codes.
            </div>
          </div>
        </section>

        <!-- Flow Connector -->
        <div class="connector-v"></div>

        <!-- 2. Global Layer -->
        <section class="section">
          <div class="section-label">02. Global Scope (App Entry / CSS)</div>
          <div class="grid-2">
            <!-- Light Theme -->
            <div class="box-container">
              <span class="badge">Theme: Light</span>
              <div class="code-block">
                html.<span class="keyword">light</span> {<br />
                &nbsp;&nbsp;<span class="var">--primary</span>: #366ef4;
                <span class="string">/* Blue */</span><br />
                &nbsp;&nbsp;<span class="var">--bg-color</span>: #ffffff;<br />
                }
              </div>
            </div>
            <!-- Dark Theme -->
            <div class="box-container dashed">
              <span class="badge">Theme: Dark</span>
              <div class="code-block">
                html.<span class="keyword">dark</span> {<br />
                &nbsp;&nbsp;<span class="var">--primary</span>: #93c5fd;
                <span class="string">/* Light Blue */</span><br />
                &nbsp;&nbsp;<span class="var">--bg-color</span>: #0f172a;<br />
                }
              </div>
            </div>
          </div>
          <div class="annotation mt-4">
            Variables are defined at the root level. Switching the class on the
            &lt;html&gt; tag swaps the entire palette instantly.
          </div>
        </section>

        <!-- Flow Connector -->
        <div class="connector-v"></div>

        <!-- 3. Component Layer -->
        <section class="section">
          <div class="section-label">
            03. Component Scope (Usage & Overrides)
          </div>

          <div class="grid-2">
            <!-- Case A: Default -->
            <div class="box-container">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span class="badge">Case A: Global Theme</span>
              </div>
              <div
                class="mt-4"
                style="
                  border: 1px solid var(--c-border);
                  padding: 1rem;
                  text-align: center;
                "
              >
                <!-- Representation of blue button -->
                <div
                  style="
                    background: #366ef4;
                    color: white;
                    padding: 8px 16px;
                    font-family: sans-serif;
                    font-size: 12px;
                    display: inline-block;
                  "
                >
                  Button
                </div>
              </div>
              <div class="code-block">
                &lt;button class="<span class="keyword">bg-primary</span>" /&gt;
              </div>
              <div class="annotation">
                Inherits <span class="var">--primary</span> (#366ef4) from root.
              </div>
            </div>

            <!-- Case B: Local Override -->
            <div class="box-container">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span class="badge">Case B: Local Override</span>
              </div>

              <div
                class="mt-4"
                style="
                  border: 1px solid var(--c-border);
                  padding: 1rem;
                  text-align: center;
                "
              >
                <!-- Representation of yellow button -->
                <div
                  style="
                    background: #f59e0b;
                    color: white;
                    padding: 8px 16px;
                    font-family: sans-serif;
                    font-size: 12px;
                    display: inline-block;
                  "
                >
                  Button
                </div>
              </div>

              <div class="code-block">
                const style = {<br />
                &nbsp;&nbsp;"<span class="var">--primary</span>":
                <span class="string">"#f59e0b"</span><br />
                };<br />
                &lt;div style={style}&gt;<br />
                &nbsp;&nbsp;&lt;button class="<span class="keyword"
                  >bg-primary</span
                >" /&gt;<br />
                &lt;/div&gt;
              </div>
              <div class="annotation">
                CSS inheritance priority: Local CSS variable overrides the
                global root variable for this specific DOM subtree.
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </body>
</html>
