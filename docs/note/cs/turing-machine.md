---
title: å›¾çµæœº
order: -1
toc: content
group:
  title: è®¡ç®—æœºåŸç†
  order: -1
---

## [å›¾çµæœºçš„è§£é‡Š](https://mp.weixin.qq.com/s/oKrsznBAumrNvz4_xtktXw)

![20240409120316](https://raw.githubusercontent.com/chuenwei0129/my-picgo-repo/master/me/20240409120316.png)

## [ä»€ä¹ˆæ˜¯å›¾çµå®Œå¤‡ï¼Ÿ](https://www.zhihu.com/question/20115374/answer/288346717)

å›¾çµæœºè§£å†³äº†å‡ ä¸ªé—®é¢˜ï¼š

1. **å¯è®¡ç®—æ€§é—®é¢˜**ã€‚ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å¯è®¡ç®—çš„ï¼Œç§°ä¸ºå¯è®¡ç®—æ•°ã€‚å¯è®¡ç®—æ•°åªæ˜¯å®æ•°çš„ä¸€éƒ¨åˆ†ï¼Œå¤§å¤šæ•°å®æ•°éƒ½æ˜¯ä¸å¯è®¡ç®—çš„ã€‚(é€šç”¨è®¡ç®—æœº)
2. **å¯åˆ¤å®šæ€§é—®é¢˜**ã€‚æ˜¯å¦å­˜åœ¨é€šç”¨çš„è¿‡ç¨‹ï¼Œåˆ¤æ–­æŸä¸ªå…¬å¼æ˜¯å¯ä»¥è¯æ˜çš„ã€‚(åœæœºé—®é¢˜)
3. **äººç±»è®¡ç®—è€…ä¸è®¡ç®—æœºç­‰ä»·**ã€‚é€šè¿‡å›¾çµæµ‹è¯•åˆ¤å®šè®¡ç®—æœºçš„æ™ºèƒ½ã€‚(äººå·¥æ™ºèƒ½)

å›¾çµå®Œå¤‡ï¼š

> åœ¨å¯è®¡ç®—æ€§ç†è®ºï¼Œå¦‚æœä¸€ç³»åˆ—æ“ä½œæ•°æ®çš„è§„åˆ™ (å¦‚æŒ‡ä»¤é›†ã€ç¼–ç¨‹è¯­è¨€ã€ç»†èƒè‡ªåŠ¨æœº) å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿä»»ä½•å›¾çµæœºï¼Œé‚£ä¹ˆå®ƒæ˜¯å›¾çµå®Œå¤‡çš„ã€‚â€”â€”â€” ç»´åŸºç™¾ç§‘

## ç½—ç´ æ‚–è®º

ç†å‘å¸ˆæ‚–è®ºç”±å“²å­¦å®¶ç½—ç´ åœ¨ 1903 å¹´æå‡ºï¼Œä¹Ÿç§°ä¸ºç½—ç´ æ‚–è®ºã€‚æœ‰ä¸€ä¸ªç†å‘å¸ˆæ‰“å¹¿å‘Šï¼Œè¯´ï¼šâ€œæˆ‘åªç»™æœ¬åŸæ‰€æœ‰ä¸ç»™è‡ªå·±åˆ®è„¸çš„äººåˆ®è„¸ã€‚â€

é—®é¢˜æ˜¯ï¼šç†å‘å¸ˆèƒ½ä¸èƒ½ç»™ä»–è‡ªå·±åˆ®è„¸å‘¢ï¼Ÿå¦‚æœä»–ä¸ç»™è‡ªå·±åˆ®è„¸ï¼Œä»–å°±å±äº â€œä¸ç»™è‡ªå·±åˆ®è„¸çš„äººâ€ï¼›å¦‚æœä»–ç»™è‡ªå·±åˆ®è„¸ï¼Œä»–å°±å±äº â€œç»™è‡ªå·±åˆ®è„¸çš„äººâ€ï¼Œä»–å°±ä¸è¯¥ç»™è‡ªå·±åˆ®è„¸ã€‚

åœ¨ç†å‘å¸ˆæ‚–è®ºçš„åŸºç¡€ä¸Šï¼Œç½—ç´ æ„å»ºäº†ä¸€ä¸ª â€œé›†åˆâ€ Sï¼šS ç”±ä¸€åˆ‡ä¸æ˜¯è‡ªèº«å…ƒç´ çš„é›†åˆç»„æˆã€‚ç„¶åï¼Œç½—ç´ é—®ï¼šS æ˜¯å¦å±äº S å‘¢ï¼Ÿæ ¹æ®æ’ä¸­å¾‹ï¼Œä¸€ä¸ªå…ƒç´ æˆ–è€…å±äºæŸä¸ªé›†åˆï¼Œæˆ–è€…ä¸å±äºæŸä¸ªé›†åˆã€‚å› æ­¤ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„é›†åˆï¼ŒæŸä¸ªå…ƒç´ æˆ–è€…å±äºè¯¥é›†åˆï¼Œæˆ–è€…ä¸å±äºè¯¥é›†åˆã€‚

ä½†å¯¹ç½—ç´ æå‡ºçš„è¿™ä¸ª â€œé›†åˆâ€ S æ˜¯å¦å±äº Sï¼Œå´æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“åˆ¤æ–­ï¼šå¦‚æœ S å±äº Sï¼Œæ ¹æ® S çš„å®šä¹‰ï¼ŒS å°±ä¸å±äº Sï¼›åä¹‹ï¼Œå¦‚æœ S ä¸å±äº Sï¼ŒåŒæ ·æ ¹æ®å®šä¹‰ï¼ŒS å°±å±äº Sã€‚

## åœæœºé—®é¢˜

> [å¦‚ä½•é€šä¿—åœ°è§£é‡Šåœæœºé—®é¢˜ (Halting Problem)ï¼Ÿ](https://www.zhihu.com/question/20081359/answer/275107187)

## ç›´è§‚ç†è§£å›¾çµå®Œå¤‡ â€”â€” Brainfuck è¯­è¨€

> brainfuck æœ‰ä¸€ä¸ªç”¨å¤„ï¼Œä¸€é—¨æ–°è¯­è¨€åŠŸèƒ½è¯­æ³•å¾ˆå¤æ‚ï¼Œè¦ç”¨æ•°å­¦è¯æ˜çš„æ–¹å¼ç¡®å®šæ€§è¯´æ˜å®ƒå›¾çµå®Œå¤‡ä¼šå¾ˆéº»çƒ¦ï¼Œä½†åªè¦ç”¨è¿™é—¨æ–°è¯­è¨€å®ç°ä¸€ä¸ª brainfuck çš„è§£é‡Šå™¨ï¼Œé‚£ä¹ˆå°±å¿…ç„¶è¯æ˜äº†æ˜¯å›¾çµå®Œå¤‡çš„ã€‚

Brainfuck çš„å·¥ä½œæœºåˆ¶ä¸å›¾çµæœºé«˜åº¦ä¸€è‡´ã€‚

é¦–å…ˆå®ƒå­˜å‚¨æ•°æ®çš„æ–¹å¼æ˜¯ä¸€ä¸ªä¸é™é•¿çš„ä¸€ç»´æ•´æ•°æ•°ç»„ï¼Œé‡Œé¢çš„æ•°å€¼å…¨éƒ¨åˆå§‹åŒ–ä¸º 0ã€‚æ­¤å¤–ï¼Œæœ‰ä¸€æ•°æ®æŒ‡é’ˆï¼Œæ¯ä¸€æ—¶åˆ»éƒ½æŒ‡å‘æ•°ç»„çš„æŸä¸€ä»»æ„å…ƒç´ ã€‚æŒ‡é’ˆå¯ä»¥å‘å·¦/å³ç§»åŠ¨ï¼Œä¹Ÿå¯ä»¥è¯»å–/ä¿®æ”¹å½“å‰å€¼ã€‚

è¯­è¨€é‡Œçš„ 8 ä¸ªæœ‰æ•ˆå­—ç¬¦åˆ†åˆ«æ˜¯ï¼š

- `>` æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼
- `<` æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€æ ¼
- `+` ä½¿æŒ‡é’ˆå½“å‰æ ¼æ•°å€¼åŠ ä¸€
- `-` ä½¿æŒ‡é’ˆå½“å‰æ ¼æ•°å€¼å‡ä¸€
- `.` æŠŠå½“å‰æ ¼æ•°å€¼æŒ‰ ASCII è¡¨è¾“å‡ºåˆ°ç»ˆç«¯
- `,` ä»ç»ˆç«¯æ¥å—ä¸€ byte çš„æ•°æ®ï¼Œå­˜å‚¨å…¶ ASCII æ•°å€¼åˆ°å½“å‰æ ¼
- `[` å½“æŒ‡é’ˆå½“å‰å€¼ä¸º `0` æ—¶ï¼Œç¨‹åºè·³è½¬è‡³ä¸ä¹‹å¯¹åº”çš„ `]` ä¹‹åï¼›å¦åˆ™ç¨‹åºæ­£å¸¸æ‰§è¡Œ
- `]` ç¨‹åºè·³è½¬å›ä¸ä¹‹å¯¹åº”çš„ `[` å¤„

æœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«åšå‡ºä¸€ä¸ªè®¡ç®—ä¹˜æ³•çš„ç¨‹åºã€‚å› ä¸º ASCII è¡¨ä¸­ â€˜Aâ€™ å¯¹åº”çš„å€¼ä¸º 65ï¼Œå¯ä»¥ä½¿ç”¨ `5 * 13` ç®—å‡º 65 å¹¶è¾“å‡ºå¾—åˆ°å­—ç¬¦ â€˜Aâ€™ã€‚

```bf
+++++

[
>+++++++++++++
<-
]

>.
```

**ğŸ‘Ÿ è§£é‡Šï¼š**

æŠŠæŒ‡é’ˆåˆå§‹å¤„çš„æ ¼å­å‘½åä¸º `cell 0`ï¼Œ`cell 0` å³è¾¹çš„é‚£ä¸ªæ ¼å­å‘½åä¸º `cell 1`ã€‚é‚£ä¹ˆç¬¬ä¸€å¥å°†å…¶é€’å¢ 5 æ¬¡å˜ä¸º 5ã€‚ç„¶åï¼Œå¾ªç¯æ‰§è¡Œ â€œå³ç§»æŒ‡é’ˆï¼Œé€’å¢ 13 æ¬¡ï¼Œå·¦ç§»æŒ‡é’ˆï¼Œé€’å‡ 1 æ¬¡â€ã€‚å½“ `cell 0` çš„å€¼æœ€ç»ˆè¢«é€’å‡ä¸º 0 çš„æ—¶å€™ï¼Œå¾ªç¯ç»“æŸã€‚æ­¤æ—¶ `cell 1` çš„å€¼æ‰§è¡Œäº† 5 æ¬¡ â€œé€’å¢ 13 æ¬¡â€ çš„æ“ä½œï¼Œå³ 65ã€‚æŒ‡é’ˆå³ç§»è‡³ `cell 1`ï¼Œè¾“å‡ºæ­¤æ ¼å­ï¼Œåˆ™åœ¨ç»ˆç«¯ä¼šçœ‹åˆ° â€˜Aâ€™ã€‚

**ğŸ§± JS æ¨¡æ‹Ÿå®ç°ï¼š**

```js
const brainFuck = (code, input) => {
  // brainfuck çš„è®¡ç®—æ¨¡å‹å®˜æ–¹è¯´æ³•æ ¼å­æ•°ç›®é™åˆ¶ä¸º 3000
  const memo = Array.from({ length: 10 }, () => 0)
  const opts = code.split('')
  const chars = input?.split('')

  // å¦‚æœå½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®å¸¦å€¼ä¸º 0ï¼Œåˆ™è·³åˆ°ä¸ä¹‹åŒ¹é…çš„ ']'
  const loopStart = () => {
    // ä¸æ»¡è¶³æ¡ä»¶ä»€ä¹ˆéƒ½ä¸åš
    if (~~memo[memoIdx] === 0) {
      let cnt = 1

      while (cnt) {
        codeIdx++
        // åµŒå¥—
        if (opts[codeIdx] === '[') {
          cnt++
        }
        if (opts[codeIdx] === ']') {
          // ç»“æŸå¾ªç¯
          cnt--
        }
      }
    }
  }

  // å¦‚æœå½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®å¸¦å€¼ä¸ä¸º 0ï¼Œåˆ™è·³åˆ°ä¸ä¹‹åŒ¹é…çš„ '['
  const loopEnd = () => {
    if (~~memo[memoIdx] !== 0) {
      let cnt = 1

      while (cnt) {
        codeIdx--
        if (opts[codeIdx] === ']') {
          cnt++
        }
        if (opts[codeIdx] === '[') {
          cnt--
        }
      }
    }
  }

  // æ•°æ®å¸¦æŒ‡é’ˆ
  let memoIdx = 0
  // å¾ªç¯è®¡æ•°
  let codeIdx = 0
  let output = ''

  while (codeIdx < opts.length) {
    // memo æº¢å‡º
    if (memoIdx > 3000) {
      throw new Error('range error')
    }
    switch (opts[codeIdx]) {
      case '>':
        memoIdx++
        break
      case '<':
        memoIdx--
        break
      case '+':
        // ~~undefined === 0
        // 255 + 1 = 256 % 256 === 0
        memo[memoIdx] = (~~memo[memoIdx] + 1) % 256
        break
      case '-':
        // '-' : 0 || 256 = 255
        // '--': 255 - 1 = 254
        memo[memoIdx] = (~~memo[memoIdx] || 256) - 1
        break
      // è·å–é”®ç›˜è¾“å…¥çš„å­—èŠ‚æµï¼Œå†™å…¥å½“å‰æ•°æ®æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®å¸¦
      case ',':
        const iptChar = chars?.shift()
        // 'H'.codePointAt(0) === 72
        memo[memoIdx] = iptChar ? iptChar.codePointAt(0) : memo[memoIdx]
        break
      case '.':
        // ä» Unicode ç è¡¨ä¸­å–å‡ºå¯¹åº”çš„å­—ç¬¦
        output += String.fromCodePoint(memo[memoIdx])
        break
      case '[':
        loopStart()
        break
      case ']':
        loopEnd()
        break
      default:
        break
    }

    codeIdx++
  }

  console.log(memo)

  return output
}

console.log(brainFuck('++[>++[>++<-]<-]'))

console.log(brainFuck('+++')) // memo: [ 3, 0, 0, 0, 0 ]
console.log(brainFuck('--')) // memo: [ 254, 0, 0, 0, 0 ]
console.log(brainFuck(',.>,.>,.', 'CHU')) // 'CHU'
// é€»è¾‘ï¼š'['(ä¸æ»¡è¶³æ¡ä»¶) -> '>+++<-' -> ']' -> '[' -> '>+++<-' -> ']' -> '[' -> ']'(ä¸æ»¡è¶³æ¡ä»¶)
// å¾ªç¯å¥—è·¯ï¼Œ+++ ç¬¬ä¸€ä¸ªæ ¼å­å­˜å‚¨çš„æ˜¯å¾ªç¯æ¬¡æ•°ï¼Œæ— è®¡æ•° +ï¼Œæˆ–è€… , è¾“å…¥ï¼Œä¸ä¼šè¿›å…¥å¾ªç¯ï¼Œæ—  '-'ï¼Œæ— é™å¾ªç¯ '+[>++]'
console.log(brainFuck('+++[>+++>+++++++>+++++<<<-].'))

// 'H' === 72
// 'e' === 101
// 'l' === 108
// 'l' === 108
// 'o' === 111
// 108 å¤ç”¨ 101 æ ¼å­

console.log(
  brainFuck(`
  ++++++++++
  [
  >+++++++
  >++++++++++
  <<-
  ]
  >++.
  >+.
  +++++++.
  .
  +++.
`),
) // 'Hello'

console.log(brainFuck('>,[>,]<[.<]', 'Hello World!')) // '!dlroW olleH'
// æ— é™å¾ªç¯æµ‹è¯•
brainFuck('+[>++]')
```

## æ‹“å±•é˜…è¯»

> [ä¸ºä»€ä¹ˆæ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ˜¯æ•°æ® + æŒ‡ä»¤ï¼Ÿ](https://www.bilibili.com/video/BV1Za411t7c6)
