---
group:
  title: 2024 ðŸ²
  order: 0
title: å‡½æ•°å¼ç¼–ç¨‹
toc: content
---

Functor (å‡½å­) æ˜¯å®žçŽ°äº† map å¹¶éµå®ˆä¸€äº›ç‰¹å®šè§„åˆ™çš„å®¹å™¨ç±»åž‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæˆ‘ä»¬è¦å°†æ™®é€šå‡½æ•°åº”ç”¨åˆ°ä¸€ä¸ªè¢«å®¹å™¨åŒ…è£¹çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆéœ€è¦å®šä¹‰ä¸€ä¸ªå« Functor çš„æ•°æ®ç±»åž‹ï¼Œåœ¨è¿™ä¸ªæ•°æ®ç±»åž‹ä¸­éœ€è¦å®šä¹‰å¦‚ä½•ä½¿ç”¨ map æ¥åº”ç”¨è¿™ä¸ªæ™®é€šå‡½æ•°ã€‚æŠŠä¸œè¥¿è£…è¿›ä¸€ä¸ªå®¹å™¨ï¼Œåªç•™å‡ºä¸€ä¸ªæŽ¥å£ map ç»™å®¹å™¨å¤–çš„å‡½æ•°ï¼Œè¿™ä¹ˆåšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿæœ¬è´¨ä¸Šï¼ŒFunctor æ˜¯ä¸€ä¸ªå¯¹äºŽå‡½æ•°è°ƒç”¨çš„æŠ½è±¡ï¼Œæˆ‘ä»¬èµ‹äºˆå®¹å™¨è‡ªå·±åŽ»è°ƒç”¨å‡½æ•°çš„èƒ½åŠ›ã€‚å½“ map ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬è®©å®¹å™¨è‡ªå·±æ¥è¿è¡Œè¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·å®¹å™¨å°±å¯ä»¥è‡ªç”±åœ°é€‰æ‹©ä½•æ—¶ä½•åœ°å¦‚ä½•æ“ä½œè¿™ä¸ªå‡½æ•°ï¼Œä»¥è‡´äºŽæ‹¥æœ‰æƒ°æ€§æ±‚å€¼ã€é”™è¯¯å¤„ç†ã€å¼‚æ­¥è°ƒç”¨ç­‰ç­‰éžå¸¸ç‰›æŽ°çš„ç‰¹æ€§ã€‚

const f = x => x + 1

å‡½æ•°è¿™ä¸ªè¯æ˜¯æ–‡è¨€æ–‡ï¼Œå‡¡æ­¤å˜æ•°ä¸­å‡½å½¼å˜æ•°è€…ï¼Œåˆ™æ­¤ä¸ºå½¼ä¹‹å‡½æ•°ã€‚æ„ä¸ºï¼šå˜æ•° f(x) å‡½å˜æ•° xï¼Œåˆ™ f(x) ä¸º x ä¹‹å‡½æ•°ã€‚å‡½ï¼Œæ˜¯ç®­å›Šï¼Œå¼•ç”³ä¸ºæ˜¯è£…åŒ…ä¸œè¥¿çš„å£è¢‹ã€‚

å‡½æ•°åªæ˜¯ä¸¤ç§æ•°å€¼ä¹‹é—´çš„å…³ç³»ï¼šè¾“å…¥å’Œè¾“å‡ºã€‚
å°½ç®¡æ¯ä¸ªè¾“å…¥éƒ½åªä¼šæœ‰ä¸€ä¸ªè¾“å‡ºï¼Œä½†ä¸åŒçš„è¾“å…¥å´å¯ä»¥æœ‰ç›¸åŒçš„è¾“å‡ºã€‚

çº¯å‡½æ•°æ˜¯è¿™æ ·ä¸€ç§å‡½æ•°ï¼Œå¯¹äºŽç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨ã€‚

å‰¯ä½œç”¨ï¼šçº¯å‡½æ•°æ˜¯è¿™æ ·ä¸€ç§å‡½æ•°ï¼Œå¯¹äºŽç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨ã€‚

å¼•ç”¨é€æ˜Žæ€§ (Referential Transparency) æŒ‡çš„æ˜¯ï¼Œå¦‚æžœä¸€æ®µä»£ç åœ¨ä¸æ”¹å˜æ•´ä¸ªç¨‹åºè¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯ä»¥æ›¿æ¢æˆå®ƒçš„æ‰§è¡Œç»“æžœã€‚
å‰¯ä½œç”¨æ˜¯åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»ŸçŠ¶æ€çš„ä¸€ç§å˜åŒ–ï¼Œæˆ–è€…ä¸Žå¤–éƒ¨ä¸–ç•Œè¿›è¡Œçš„å¯è§‚å¯Ÿçš„äº¤äº’ã€‚

ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªå¤šå‚å‡½æ•° (n-ary)ï¼ŒæŸ¯é‡ŒåŒ–åŽå°±å˜æˆäº† n \* 1-aryï¼Œè€Œåå‡½æ•°åº”ç”¨äº† x ä¸ªå‚æ•°åŽå°±å˜æˆäº† (n-x)-ary

ç§‘åˆ©åŽçš„å¥½å¤„ï¼Œå‚æ•°é—­åŒ…ä¿å­˜å˜é‡

![function-composition](https://raw.githubusercontent.com/chuenwei0129/my-picgo-repo/master/me/function-composition.png)

é¦–å…ˆè®©æˆ‘ä»¬ä»ŽæŠ½è±¡çš„å±‚æ¬¡æ¥æ€è€ƒä¸€ä¸‹ï¼šä¸€ä¸ª app ç”±ä»€ä¹ˆç»„æˆï¼Ÿ(å½“ç„¶æ˜¯ç”± aã€pã€p ä¸‰ä¸ªå­—æ¯ç»„æˆçš„å•¦)

æ‰€è°“çº¯å‡½æ•°ï¼Œå°±æ˜¯ä¸€æ¬¡è®¡ç®—ï¼Œè°ƒç”¨ç»“æžœæ°¸è¿œä¸å˜çš„å‡½æ•°ã€‚

ä¸ºäº†è¿™ä¸ªç›®æ ‡ï¼Œå…¶ä»–ä»€ä¹ˆ Monadï¼ŒContinuationï¼ŒLazyï¼ŒEffectï¼Œéƒ½åªæ˜¯æ‰‹æ®µç½¢äº†ï¼Œæ®Šé€”åŒå½’ã€‚

ä¸æ˜¯è¯´ä½ ç”¨ map å°±æ˜¯å‡½æ•°å¼ï¼Œä½  map é‡Œæœ‰ä»€ä¹ˆ printï¼Œrandomï¼Œfsï¼ŒåŸºæœ¬ä¸Šå°±å‘Šåˆ«å‡½æ•°å¼çš„åˆè¡·äº†ã€‚

```ts
const msg = 'hello world'

const speak = (msg: string) => console.log(msg)

speak(msg)
```

[Playground Link](https://www.typescriptlang.org/zh/play?#code/MYewdgzgLgBAthA5jAvDARACwKYBtcgwDuIATrgCboDcAULaJLBAA7YCGA1qjABQKIAXDGikAlmEQBKVAD4YjCCFzYAdAUT8kUurVYdOW6XSA)

https://www.typescriptlang.org/zh/play?#code/MYewdgzgLgBAthA5jAvDARACwKYBtcgwDuIATrgCboDcAULaJLBAA7YCGA1qjABQKIAXDGikAlmEQBKVAD4YjCCFzYAdAUT8kUurVYdOW6XSA
