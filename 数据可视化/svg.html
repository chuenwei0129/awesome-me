<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>柱状图</title>
    <style>
      svg {
        width: 400px;
        height: 300px;
      }
      .bar {
        fill: steelblue;
      }
    </style>
  </head>
  <body>
    <svg id="chart"></svg>

    <script>
      const dataset = {
        current: [15, 11, 17, 25, 37],
        total: [25, 26, 40, 45, 68],
      }

      const svg = document.querySelector('#chart')
      const barWidth = 40
      const spaceForBars = 10
      const numDataPoints = dataset.current.length
      const chartHeight = 200
      const yScaleFactor = chartHeight / d3.max(dataset.total)

      dataset.current.forEach((currentValue, index) => {
        const barHeight = currentValue * yScaleFactor
        const barXPosition = index * (barWidth + spaceForBars)

        const rect = document.createElementNS(
          'http://www.w3.org/2000/svg',
          'rect'
        )
        rect.setAttribute('class', 'bar')
        rect.setAttribute('x', barXPosition)
        rect.setAttribute('y', chartHeight - barHeight)
        rect.setAttribute('width', barWidth)
        rect.setAttribute('height', barHeight)

        svg.appendChild(rect)
      })
    </script>
  </body>
</html>
