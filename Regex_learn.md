# 正则表达式<!-- omit in toc -->
- [元字符](#元字符)
  - [量词元字符](#量词元字符)
  - [特殊元字符](#特殊元字符)
  - [简写字符集](#简写字符集)
  - [修饰符](#修饰符)
- [`[]` 中括号](#-中括号)
- [`?` 问号](#-问号)
- [exec](#exec)
- [replace](#replace)
- [new RegExp](#new-regexp)

## 元字符

### 量词元字符

| 元字符 |                   描述                   |
| :----: | :--------------------------------------: |
|   *    |       匹配前面的子表达式零次或多次       |
|   +    |       匹配前面的子表达式一次或多次       |
|   ？   |       匹配前面的子表达式零次或一次       |
|  {n}   |         匹配前面的子表达式 n 次          |
|  {n,}  |       匹配前面的子表达式至少 n 次        |
| {n,m}  | 匹配前面的子表达式至少 n 次但不超过 m 次 |

### 特殊元字符

| 元字符 |                                        描述                                        |
| :----: | :--------------------------------------------------------------------------------: |
|   \\   | 转义符，它可以还原元字符原来的含义，允许你匹配保留字符 [ ] ( ) { } . \* + ? ^ \$ \ |
|   ^    |                                    匹配行的开始                                    |
|   \$   |                                    匹配行的结束                                    |
|   \|   |                      分支结构，匹配符号之前的字符或后面的字符                      |
| (xyz)  |                          分组，按照确切的顺序匹配字符 xyz                          |
| [xyz]  |                        字符类， 匹配方括号中包含的任意字符                         |
|  [^ ]  |                      否定字符类。匹配方括号中不包含的任意字符                      |

### 简写字符集

| 简写  |               描述               |
| :---: | :------------------------------: |
|   .   |    匹配除换行符以外的任意字符    |
|  \n   |            匹配换行符            |
|  \t   |            匹配制表符            |
|  \w   | 匹配所有字母、下划线和数字的字符 |
|  \W   |  匹配非字母、下划线和数字的字符  |
|  \d   |         匹配数字: [0-9]          |
|  \D   |        匹配非数字: [^\d]         |
|  \s   |   匹配空格符: [\t\n\f\r\p{Z}]    |
|  \S   |       匹配非空格符: [^\s]        |

### 修饰符

| 标记  |                   描述                   |
| :---: | :--------------------------------------: |
|   i   |  不区分大小写: 将匹配设置为不区分大小写  |
|   g   | 全局搜索: 搜索整个输入字符串中的所有匹配 |
|   m   |     多行匹配: 会匹配输入字符串每一行，忽略换行匹配    |

## `[]` 中括号

- `[]` 中出现的字符一般都代表本身的含义。

```js
const reg = /[*]/
const str = "*"

console.log(reg.test(str)) // true
```

- 一些简写字符集在中括号中还是会发生转译

```js
const reg = /[\n]/
const str = String.raw`\n`

console.log(reg.test(str)) // false
```

- `[]` 中不存在多位数，只匹配单个字符，类似 `||`

```js
const reg = /[10-29]/ // 1、0-2、9
const str = '1'

console.log(reg.test(str)) // true
```

## `?` 问号

- `?` 左边是非量词元字符————作为量词元字符匹配，匹配前面的子表达式零次或一次
- `?` 左边是量词元字符————取消正则贪婪性
- `?:` 只匹配不捕获
- `?=` 正向预查
- `?!` 负向预查

## exec

返回值：整体正则捕获结果，分组捕获结果，input：原来的 str
g：lastIndex
?: 贪婪匹配问题
手写 match
分组引用 \数字 book 后面可以加量词

reg.test(str) // 匹配第一个
RegExp.\$1

## replace

传参
字符串参数
会出现 不准确
会有 lastindex 类似错误

正则
后面是函数
exec 的捕获次数的循环
() => {

}

## new RegExp

可以传变量
每一次匹配都可以传 exec 的捕获内容

原型方法 global
RegExp.prototype.ignoreCase：返回一个布尔值，表示是否设置了 i 修饰符。
RegExp.prototype.global：返回一个布尔值，表示是否设置了 g 修饰符。
RegExp.prototype.multiline：返回一个布尔值，表示是否设置了 m 修饰符。
RegExp.prototype.flags：返回一个字符串，包含了已经设置的所有修饰符，按字母排序。
RegExp.prototype.lastIndex：返回一个整数，表示下一次开始搜索的位置。该属性可读写，但是只在进行连续搜索时有意义，详细介绍请看后文。
RegExp.prototype.source：返回正则表达式的字符串形式（不包括反斜杠），该属性只读。

\b 词的边界 hello world true
helloworld

先行断言
b 在 c 前面
/b(?=c)/.
%的列子
且 c 不会被捕获到

逆运算
先行否定断言
/b(?!c)/
b 不在 c 前面

日期
DATE.now()
+new Date()
