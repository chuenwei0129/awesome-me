---
nav:
  title: Library
  order: 0
title: useMap
toc: content
order: -995
group:
  title: Hooks
  order: -998
---

# useMap

管理 Map 类型状态的 Hook。

## Object vs Map

在 JavaScript 中，`Object` 和 `Map` 都可以用来存储键值对。尽管通常更倾向于使用 `Object`，但在某些场景下，使用 `Map` 更为优越。以下是两者的简要对比：

| 比较项             | Object                                        | Map                                         |
| ------------------ | --------------------------------------------- | ------------------------------------------- |
| **键值类型多样性** | 键只能是字符串或 `Symbol`                     | 键可以是任何类型（例如数字、函数、对象）    |
| **获取大小**       | 需要通过 `Object.keys(obj).length` 获取键数量 | 直接通过 `map.size` 获取大小                |
| **性能优化**       | 频繁增删操作没有特别优化                      | 频繁增删操作中表现更出色，适合高频缓存场景  |
| **清空缓存便捷性** | 需要遍历所有属性并逐一删除                    | 可以通过 `map.clear()` 一行代码清空整个 Map |

在需要多样化键值、频繁操作或高性能缓存机制时，`Map` 是更好的选择。

更多信息请参考：[JS 项目中究竟应该使用 Object 还是 Map？](https://zhuanlan.zhihu.com/p/358378689) 📚

## 封装时注意事项

在 React 的世界里，不可变数据是一项基本原则。因此，对于那些不涉及副作用的方法，没有必要进行封装，开发者可以直接调用这些方法，无需任何额外的复杂操作。

- `has(key)`：返回一个布尔值，表示 Map 对象中是否存在与指定的 `key` 关联的值。
- `keys()`：返回一个新的迭代对象，该对象按插入顺序包含了 Map 对象中的所有键。
- `values()`：返回一个新的迭代对象，该对象按插入顺序包含了 Map 对象中的所有值。
- `entries()`：返回一个新的迭代对象，其中包含了 Map 对象中所有的 [key, value] 键值对，并按插入顺序排列。

## 使用示例

<code src="./usage/demo1.tsx"></code>
